# Agent Configuration
# This file defines the configuration for GitHub Copilot agents in the Secure Renewals HR Portal

agents:
  - name: hr-assistant
    file: .github/agents/hr-assistant.md
    description: "Expert HR Assistant and Portal System Engineer"
    capabilities:
      - hr_operations
      - portal_engineering
      - issue_detection
      - module_discovery
    scope:
      - backend/app/routers/
      - backend/app/services/
      - frontend/src/
      - docs/
    triggers:
      - "onboarding"
      - "probation"
      - "hr workflow"
      - "employee management"
      - "contract renewal"
      - "compliance"
    
  - name: code-quality-monitor
    file: .github/agents/code-quality-monitor.md
    description: "Proactive code quality and security scanner"
    capabilities:
      - security_scanning
      - code_quality_analysis
      - performance_monitoring
      - database_health
      - frontend_quality
    scope:
      - backend/
      - frontend/
      - alembic/
    triggers:
      - "security"
      - "vulnerability"
      - "performance"
      - "code quality"
      - "scan"
      - "audit"
    schedule:
      - daily: ["security_scan", "dependency_check"]
      - weekly: ["comprehensive_audit", "technical_debt_report"]
      - monthly: ["trend_analysis"]
    
  - name: portal-engineer
    file: .github/agents/portal-engineer.md
    description: "Expert Portal System Engineer for technical implementation"
    capabilities:
      - feature_implementation
      - architecture_design
      - bug_fixing
      - performance_optimization
      - devops
    scope:
      - backend/app/
      - frontend/src/
      - alembic/
      - .github/workflows/
    triggers:
      - "implement"
      - "create endpoint"
      - "database migration"
      - "react component"
      - "api design"
      - "deployment"

  - name: azure-deployment-specialist
    file: .github/agents/azure-deployment-specialist.md
    description: "Expert in Azure deployment, VS Code integration, and troubleshooting"
    capabilities:
      - azure_deployment
      - vscode_deployment
      - github_actions
      - login_troubleshooting
      - database_issues
      - python_environment
      - repository_knowledge
    scope:
      - .github/workflows/
      - .vscode/
      - deploy_to_azure.sh
      - backend/app/main.py
      - backend/app/database.py
      - backend/app/core/
      - docs/
    triggers:
      - "deploy"
      - "azure"
      - "vs code"
      - "vscode"
      - "login"
      - "authentication"
      - "database connection"
      - "python error"
      - "environment"
      - "troubleshoot"
      - "production"

# Collaboration rules
collaboration:
  planning_phase:
    primary: hr-assistant
    secondary: [portal-engineer]
    
  implementation_phase:
    primary: portal-engineer
    secondary: [code-quality-monitor]
    
  quality_assurance_phase:
    primary: code-quality-monitor
    secondary: [portal-engineer]
    
  deployment_phase:
    primary: azure-deployment-specialist
    secondary: [portal-engineer, code-quality-monitor]
    
  production_maintenance:
    primary: code-quality-monitor
    secondary: [hr-assistant, portal-engineer, azure-deployment-specialist]

# Agent priorities
priorities:
  critical_security_issue:
    handler: code-quality-monitor
    escalate_to: portal-engineer
    notify: hr-assistant
    
  new_hr_feature:
    handler: hr-assistant
    implement_by: portal-engineer
    verify_by: code-quality-monitor
    deploy_by: azure-deployment-specialist
    
  performance_issue:
    handler: code-quality-monitor
    fix_by: portal-engineer
    
  bug_report:
    handler: portal-engineer
    verify_by: code-quality-monitor
    
  deployment_issue:
    handler: azure-deployment-specialist
    escalate_to: portal-engineer
    
  login_issue:
    handler: azure-deployment-specialist
    verify_by: code-quality-monitor
    
  database_issue:
    handler: azure-deployment-specialist
    fix_by: portal-engineer

# Quality gates
quality_gates:
  before_merge:
    - check: security_scan
      agent: code-quality-monitor
      blocking: true
      
    - check: code_quality
      agent: code-quality-monitor
      blocking: false
      
    - check: pattern_compliance
      agent: portal-engineer
      blocking: true
      
  before_deployment:
    - check: comprehensive_security
      agent: code-quality-monitor
      blocking: true
      
    - check: performance_baseline
      agent: code-quality-monitor
      blocking: false
      
    - check: hr_workflow_validation
      agent: hr-assistant
      blocking: false
      
    - check: deployment_readiness
      agent: azure-deployment-specialist
      blocking: true
      
  after_deployment:
    - check: health_endpoint_verification
      agent: azure-deployment-specialist
      blocking: true
      
    - check: database_connectivity
      agent: azure-deployment-specialist
      blocking: true
      
    - check: login_functionality
      agent: azure-deployment-specialist
      blocking: true

# Metrics tracking
metrics:
  effectiveness:
    - time_saved_hours
    - bugs_prevented
    - features_implemented
    - security_issues_found
    
  code_health:
    - security_score
    - quality_score
    - performance_score
    - technical_debt_hours
    
  hr_operations:
    - automation_percentage
    - manual_tasks_eliminated
    - workflow_efficiency
    - user_satisfaction
    
  deployment_health:
    - deployment_success_rate
    - deployment_time_minutes
    - rollback_frequency
    - uptime_percentage
    - health_check_pass_rate

# Integration points
integrations:
  github_actions:
    enabled: true
    workflows:
      - ci.yml
      - deploy.yml
      - security-scan.yml
      
  azure_deployment:
    enabled: true
    app_name: baynunahhrportal
    resource_group: BaynunahHR
    
  github_issues:
    enabled: true
    auto_create: true
    labels:
      - agent-detected
      - needs-review
      - deployment-issue
      
  notifications:
    enabled: true
    channels:
      - github_issues
      - pull_request_comments
